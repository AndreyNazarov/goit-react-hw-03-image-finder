(this["webpackJsonpgoit-react-hw-03-image-finder"]=this["webpackJsonpgoit-react-hw-03-image-finder"]||[]).push([[0],{29:function(e,t,n){},30:function(e,t,n){},31:function(e,t,n){},33:function(e,t,n){},34:function(e,t,n){},35:function(e,t,n){},36:function(e,t,n){},76:function(e,t,n){"use strict";n.r(t);var a=n(1),c=n.n(a),r=n(9),o=n.n(r),i=(n(29),n(10)),s=n(4),u=(n(30),n(31),n(0)),l=function(e){var t=e.onSubmit,n=Object(a.useState)(""),c=Object(s.a)(n,2),r=c[0],o=c[1];return Object(u.jsx)("header",{className:"Searchbar",children:Object(u.jsxs)("form",{className:"SearchForm",onSubmit:function(e){e.preventDefault(),t(r),o("")},children:[Object(u.jsx)("button",{type:"submit",className:"SearchForm-button",children:Object(u.jsx)("span",{className:"SearchForm-button-label",children:"Search"})}),Object(u.jsx)("input",{className:"SearchForm-input",type:"text",autoComplete:"off",autoFocus:!0,placeholder:"Search images and photos",value:r,onChange:function(e){o(e.target.value)}})]})})},j=(n(33),n(19)),b=n(20),m=n(23),d=n(22),h=(n(34),document.querySelector("#modal-root"),function(e){Object(m.a)(n,e);var t=Object(d.a)(n);function n(){var e;Object(j.a)(this,n);for(var a=arguments.length,c=new Array(a),r=0;r<a;r++)c[r]=arguments[r];return(e=t.call.apply(t,[this].concat(c))).handleBackdrop=function(t){"Escape"===t.code&&e.props.onClose()},e.hideBackdrop=function(t){console.log(t.currentTarget),t.currentTarget===t.target&&e.props.onClose()},e}return Object(b.a)(n,[{key:"componentDidMount",value:function(){window.addEventListener("keydown",this.handleBackdrop)}},{key:"componentWillUnmount",value:function(){window.removeEventListener("keydown",this.handleBackdrop)}},{key:"render",value:function(){var e=this.props,t=e.src,n=e.alt;return Object(u.jsx)("div",{className:"Overlay",onClick:this.hideBackdrop,children:Object(u.jsx)("div",{className:"Modal",children:Object(u.jsx)("img",{src:t,alt:n})})})}}]),n}(a.Component)),f=(n(35),function(e){var t=e.src,n=e.largeImg,c=e.alt,r=Object(a.useState)(!1),o=Object(s.a)(r,2),i=o[0],l=o[1],j=function(){return l(!i)};return Object(u.jsxs)("li",{className:"ImageGalleryItem",children:[Object(u.jsx)("img",{onClick:j,src:t,alt:c,className:"ImageGalleryItem-image"}),i&&Object(u.jsx)(h,{onClose:j,src:n,alt:c})]})}),O=function(e){var t=e.images;return Object(u.jsx)(u.Fragment,{children:Object(u.jsx)("ul",{className:"ImageGallery",children:t.map((function(e){e.id;var t=e.webformatURL,n=e.largeImageURL,a=e.tags;return Object(u.jsx)(f,{src:t,alt:a,largeImg:n})}))})})},p=(n(36),function(e){var t=e.onClick;return Object(u.jsx)("div",{children:Object(u.jsx)("button",{className:"Button",type:"button",onClick:t,children:"Load more"})})}),g=n(21),v=n.n(g),x=(n(57),function(){return Object(u.jsx)(v.a,{type:"Puff",color:"#00BFFF",height:100,width:100,timeout:3e3})}),y=n(7),S=n.n(y);S.a.defaults.baseURL="https://pixabay.com/api/",S.a.defaults.params={key:"18984105-6f1a9ca3b34d6e222fa727017",image_type:"photo",orientation:"horizontal",per_page:12};var k=function(e){var t=e.currentPage,n=void 0===t?1:t,a=e.searchQuery,c=void 0===a?"":a;return S.a.get("",{params:{currentPage:n,searchQuery:c}}).then((function(e){return e.data.hits}))},w=function(){var e=Object(a.useState)([]),t=Object(s.a)(e,2),n=t[0],c=t[1],r=Object(a.useState)(1),o=Object(s.a)(r,2),j=o[0],b=o[1],m=Object(a.useState)(""),d=Object(s.a)(m,2),h=d[0],f=d[1],g=Object(a.useState)(!1),v=Object(s.a)(g,2),y=v[0],S=v[1],w=Object(a.useState)(null),C=Object(s.a)(w,2),N=(C[0],C[1]);Object(a.useEffect)((function(){if(h){S(!0),k({currentPage:j,setSearchQuery:h}).then((function(e){c((function(t){return[].concat(Object(i.a)(t),Object(i.a)(e))}))})).catch((function(e){return N(e.message)})).finally((function(){return S(!1)}))}}),[j,h]);return Object(u.jsxs)(u.Fragment,{children:[Object(u.jsx)(l,{onSubmit:function(e){f(e),b(1),c([])}}),Object(u.jsx)(O,{images:n}),n.length>0&&!y&&Object(u.jsx)(p,{onClick:function(){b((function(e){return e+1}))}}),y&&Object(u.jsx)(x,{})]})};o.a.render(Object(u.jsx)(c.a.StrictMode,{children:Object(u.jsx)(w,{})}),document.getElementById("root"))}},[[76,1,2]]]);
//# sourceMappingURL=main.f77eb954.chunk.js.map