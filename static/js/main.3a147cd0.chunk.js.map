{"version":3,"sources":["components/Searchbar/Searchbar.js","components/Modal/Modal.js","components/ImageGalleryItem/ImageGalleryItem.js","components/ImageGallery/ImageGallery.js","components/Button/Button.js","components/Loader/Loader.js","App.js","index.js"],"names":["Searchbar","state","query","onChangeInput","e","setState","target","value","onSubmitForm","preventDefault","props","onSubmit","className","this","type","autoComplete","autoFocus","placeholder","onChange","Component","Modal","document","querySelector","handleBackdrop","code","onClose","hideBackdrop","console","log","currentTarget","window","addEventListener","removeEventListener","src","alt","onClick","ImageGalleryItem","showModal","toggleModal","prevState","largeImg","ImageGallery","images","map","id","webformatURL","largeImageURL","tags","Button","OnLoader","color","height","width","timeout","App","currentPage","searchQuery","isLoading","onChangeQuery","fetchImages","url","axios","get","then","res","data","hits","finally","prevProps","scroll","scrollTo","top","documentElement","scrollHeight","behavior","length","ReactDOM","render","StrictMode","getElementById"],"mappings":"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","file":"static/js/main.3a147cd0.chunk.js","sourcesContent":["import React, { Component } from 'react';\r\nimport './Searchbar.css';\r\n\r\nclass Searchbar extends Component {\r\n  state = {\r\n    query: '',\r\n  };\r\n  onChangeInput = e => {\r\n    this.setState({ query: e.target.value });\r\n  };\r\n\r\n  onSubmitForm = e => {\r\n    e.preventDefault();\r\n\r\n    this.props.onSubmit(this.state.query);\r\n\r\n    this.setState({ query: '' });\r\n  };\r\n\r\n  render() {\r\n    return (\r\n      <header className=\"Searchbar\">\r\n        <form className=\"SearchForm\" onSubmit={this.onSubmitForm}>\r\n          <button type=\"submit\" className=\"SearchForm-button\">\r\n            <span className=\"SearchForm-button-label\">Search</span>\r\n          </button>\r\n\r\n          <input\r\n            className=\"SearchForm-input\"\r\n            type=\"text\"\r\n            autoComplete=\"off\"\r\n            autoFocus\r\n            placeholder=\"Search images and photos\"\r\n            value={this.state.query}\r\n            onChange={this.onChangeInput}\r\n          />\r\n        </form>\r\n      </header>\r\n    );\r\n  }\r\n}\r\n\r\nexport default Searchbar;\r\n","import { createPortal } from 'react-dom';\r\nimport React, { Component } from 'react';\r\nimport './Modal.css';\r\nconst rootModal = document.querySelector('#modal-root');\r\n\r\nclass Modal extends Component {\r\n  componentDidMount() {\r\n    window.addEventListener('keydown', this.handleBackdrop);\r\n  }\r\n\r\n  componentWillUnmount() {\r\n    window.removeEventListener('keydown', this.handleBackdrop);\r\n  }\r\n\r\n  handleBackdrop = e => {\r\n    if (e.code === 'Escape') {\r\n      this.props.onClose();\r\n    }\r\n  };\r\n\r\n  hideBackdrop = e => {\r\n    console.log(e.currentTarget);\r\n    if (e.currentTarget === e.target) {\r\n      this.props.onClose();\r\n    }\r\n  };\r\n\r\n  render() {\r\n    const { src, alt } = this.props;\r\n    return (\r\n      <div className=\"Overlay\" onClick={this.hideBackdrop}>\r\n        <div className=\"Modal\">\r\n          <img src={src} alt={alt} />\r\n        </div>\r\n      </div>\r\n    );\r\n  }\r\n}\r\n\r\nexport default Modal;\r\n","import React, { Component } from 'react';\r\nimport Modal from '../Modal/Modal';\r\nimport './ImageGalleryItem.css';\r\n\r\nclass ImageGalleryItem extends Component {\r\n  state = { showModal: false };\r\n\r\n  toggleModal = () => {\r\n    this.setState(prevState => ({\r\n      showModal: !prevState.showModal,\r\n    }));\r\n  };\r\n  render() {\r\n    const { src, largeImg, alt } = this.props;\r\n    return (\r\n      <li className=\"ImageGalleryItem\">\r\n        <img\r\n          onClick={this.toggleModal}\r\n          src={src}\r\n          alt={alt}\r\n          className=\"ImageGalleryItem-image\"\r\n        />\r\n        {this.state.showModal && (\r\n          <Modal onClose={this.toggleModal} src={largeImg} alt={alt} />\r\n        )}\r\n      </li>\r\n    );\r\n  }\r\n}\r\n\r\nexport default ImageGalleryItem;\r\n","import './ImageGallery.css';\r\nimport ImageGalleryItem from '../ImageGalleryItem/ImageGalleryItem';\r\nconst ImageGallery = ({ images }) => {\r\n  return (\r\n    <>\r\n      <ul className=\"ImageGallery\">\r\n        {images.map(({ id, webformatURL, largeImageURL, tags }) => (\r\n          <ImageGalleryItem\r\n            src={webformatURL}\r\n            alt={tags}\r\n            largeImg={largeImageURL}\r\n            key={id}\r\n          />\r\n        ))}\r\n      </ul>\r\n    </>\r\n  );\r\n};\r\n\r\nexport default ImageGallery;\r\n","import './Button.css';\r\n\r\nconst Button = ({ onClick }) => {\r\n  return (\r\n    <div>\r\n      <button className=\"Button\" type=\"button\" onClick={onClick}>\r\n        Load more\r\n      </button>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default Button;\r\n","import Loader from 'react-loader-spinner';\r\nimport React, { Component } from 'react';\r\nimport 'react-loader-spinner/dist/loader/css/react-spinner-loader.css';\r\nclass OnLoader extends Component {\r\n  //other logic\r\n  render() {\r\n    return (\r\n      <Loader\r\n        type=\"Puff\"\r\n        color=\"#00BFFF\"\r\n        height={100}\r\n        width={100}\r\n        timeout={3000} //3 secs\r\n      />\r\n    );\r\n  }\r\n}\r\n\r\nexport default OnLoader;\r\n","import './App.css';\nimport React, { Component } from 'react';\nimport Searchbar from './components/Searchbar/Searchbar';\nimport ImageGallery from './components/ImageGallery/ImageGallery';\nimport Button from './components/Button/Button';\nimport OnLoader from './components/Loader/Loader';\nimport axios from 'axios';\n\nclass App extends Component {\n  state = {\n    images: [],\n    currentPage: 1,\n    searchQuery: '',\n    isLoading: false,\n    showModal: false,\n  };\n\n  componentDidUpdate(prevProps, prevState) {\n    if (prevState.searchQuery !== this.state.searchQuery) {\n      this.fetchImages();\n    }\n\n    this.state.currentPage > 1 && this.scroll();\n  }\n\n  onChangeQuery = query => {\n    this.setState({ searchQuery: query, currentPage: 1, images: [] });\n  };\n\n  fetchImages = () => {\n    const url = `https://pixabay.com/api/?key=18984105-6f1a9ca3b34d6e222fa727017&q=${this.state.searchQuery}&page=${this.state.currentPage}&image_type=photo&orientation=horizontal&per_page=12`;\n    this.setState({ isLoading: true });\n\n    axios\n      .get(url)\n      .then(res => {\n        this.setState(prevState => ({\n          images: [...prevState.images, ...res.data.hits],\n          currentPage: prevState.currentPage + 1,\n        }));\n      })\n      .finally(() => this.setState({ isLoading: false }));\n  };\n\n  scroll() {\n    window.scrollTo({\n      top: document.documentElement.scrollHeight,\n      behavior: 'smooth',\n    });\n  }\n\n  render() {\n    return (\n      <>\n        <Searchbar onSubmit={this.onChangeQuery} />\n        <ImageGallery images={this.state.images} />\n        {this.state.images.length > 0 && !this.state.isLoading && (\n          <Button onClick={this.fetchImages} />\n        )}\n\n        {this.state.isLoading && <OnLoader />}\n      </>\n    );\n  }\n}\n\nexport default App;\n","import React from \"react\";\nimport ReactDOM from \"react-dom\";\nimport \"./index.css\";\nimport App from \"./App\";\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById(\"root\")\n);\n"],"sourceRoot":""}